:root{
  --bg:#0e1c14;
  --card:#1b2f23;
  --text:#e8f1ec;
  --muted:#a5bba7;
  --brand:#4CAF50;
  --brand-ink:#032e12;
  --ring: rgba(76, 175, 80, 0.4);
  --border:#335a44;
  --shadow: 0 10px 20px rgba(0,0,0,.20);

  /* polish tokens */
  --shadow-soft: 0 8px 16px rgba(0,0,0,.16);
  --ring-strong: 0 0 0 6px rgba(76,175,80,.18);
}

/* Reset-ish */
*{box-sizing:border-box}
html,body{margin:0;padding:0}
img{max-width:100%;height:auto;display:block}
body{
  font-family: Inter, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, sans-serif;
  background: var(--bg);
  color: var(--text);
  line-height:1.7;
}

.container{max-width:1200px;margin:0 auto;padding:0 16px}
.container-wide{max-width:1200px}

/* Skip link */
.skip-link{position:absolute;left:-999px;top:auto;width:1px;height:1px;overflow:hidden}
.skip-link:focus{
  left:16px;top:16px;width:auto;height:auto;
  background:var(--brand);color:var(--brand-ink);
  padding:8px 12px;border-radius:8px;z-index:1000;
  box-shadow:0 6px 16px var(--ring)
}

/* NAVBAR */
.site-header{
  position: sticky; top:0; z-index:50;
  backdrop-filter:saturate(140%) blur(8px);
  background: rgba(14,28,20,0.85);
  border-bottom: 1px solid var(--border)
}
.site-header.scrolled{ box-shadow: 0 10px 20px rgba(0,0,0,.18); }

.nav{display:flex;align-items:center;justify-content:space-between;gap:12px;padding:12px 0}
.brand-logo{display:flex;align-items:center;gap:10px;text-decoration:none;color:var(--text)}
.brand-logo img{width:34px;height:34px;border-radius:10px;box-shadow:0 6px 16px var(--ring)}
.brand-text{font-weight:800;letter-spacing:.2px}
.nav-links{display:flex;align-items:center;gap:16px}
.nav-links a{color:var(--text);text-decoration:none;opacity:.9;position:relative}
.nav-links a:hover,.nav-links a.active{opacity:1}
.nav-links a::after{
  content:""; position:absolute; left:0; bottom:-2px;
  width:0%; height:1px; background:var(--brand); transition:width .18s ease;
}
.nav-links a:hover::after{ width:100% }

.btn{
  display:inline-block;padding:10px 16px;border-radius:10px;
  background:var(--brand);color:var(--brand-ink);
  text-decoration:none;font-weight:700;box-shadow:var(--shadow);
  transition:transform .15s ease, box-shadow .15s ease
}
.btn:hover{transform:translateY(-1px)}
.btn-sm{padding:8px 12px;font-size:.9rem}
.btn-ghost{background:transparent;color:#f0fff5;border:1px solid var(--border)}
.btn:focus-visible, .btn-ghost:focus-visible { outline:none; box-shadow: var(--ring-strong); }

/* Mobile menu */
.menu-toggle{display:none;background:none;border:0;padding:6px;cursor:pointer}
.menu-toggle .bar{display:block;width:22px;height:2px;background:var(--text);margin:4px 0;border-radius:2px}
@media (max-width:900px){
  .menu-toggle{display:block}
  .nav-links{
    position:fixed;right:16px;top:64px;background:var(--card);
    border:1px solid var(--border);border-radius:14px;padding:12px;
    display:none;flex-direction:column;gap:12px;box-shadow:var(--shadow)
  }
  .nav-links.show{display:flex}
}

/* TYPOGRAPHY & SECTIONS */
h1,h2,h3{line-height:1.2}
h1{font-size:clamp(36px, 6vw, 56px);margin:8px 0}
h2{font-size:clamp(22px, 3.2vw, 32px);margin:0 0 8px}
h3{font-size:clamp(18px, 2.4vw, 22px);margin:0 0 8px}

/* Sections */
.section{padding:clamp(24px, 4vw, 40px) 0}
.section.alt{background:linear-gradient(180deg, rgba(255,255,255,0.03), rgba(255,255,255,0.00))}
.cards-equal{align-items:stretch}

/* HERO: textured + media */
.hero{
  position:relative;
  padding:48px 0 24px;
  background:
    radial-gradient(1200px 600px at 10% -20%, rgba(76,175,80,.09), transparent 60%),
    radial-gradient(1000px 500px at 110% 0%, rgba(3,46,18,.35), transparent 55%),
    linear-gradient(180deg, rgba(255,255,255,.03), rgba(255,255,255,0)),
    repeating-linear-gradient(90deg, rgba(255,255,255,.02) 0, rgba(255,255,255,.02) 1px, transparent 1px, transparent 22px),
    repeating-linear-gradient(0deg, rgba(255,255,255,.02) 0, rgba(255,255,255,.02) 1px, transparent 1px, transparent 22px);
  border-bottom: 1px solid var(--border);
}
.hero::before{
  content:""; position:absolute; inset:0; pointer-events:none; opacity:.13;
  background-image:
    url("data:image/svg+xml;charset=UTF-8,%3csvg xmlns='http://www.w3.org/2000/svg' width='160' height='160'%3e%3cfilter id='n'%3e%3cfeTurbulence type='fractalNoise' baseFrequency='0.8' numOctaves='2' stitchTiles='stitch'/%3e%3cfeColorMatrix type='saturate' values='0'/%3e%3c/filter%3e%3crect width='100%25' height='100%25' filter='url(%23n)' opacity='.35'/%3e%3c/svg%3e");
  background-size: 300px 300px;
  mix-blend-mode: overlay;
}
.subtitle{font-weight:600;color:var(--brand)}
.lede{color:var(--muted);max-width:clamp(520px, 70vw, 900px);text-wrap:balance}
.lede-aux{opacity:.9}

/* Hero layout */
.hero-grid{display:grid;gap:16px}
.hero-media{
  border-radius:12px; overflow:hidden; border:1px solid var(--border);
  background:#22382c; position:relative; min-height:300px; box-shadow:var(--shadow);
}
.hero-media img{width:100%;height:100%;object-fit:cover;transform:scale(1.02);transition:transform .3s ease}
.hero-grid:hover .hero-media img{ transform: scale(1.05); }
@media (min-width:900px){ .hero-grid{ grid-template-columns: 1.2fr 1fr; align-items:center } }
@media (max-width:899.98px){ .hero-copy{ margin-bottom:12px } .hero-media{ min-height:220px } }

/* Overline */
.overline{font-size:.78rem;letter-spacing:.18em;text-transform:uppercase;color:var(--muted);margin:0 0 8px 2px}

/* Metrics */
.metrics{
  padding:12px 0;background:rgba(255,255,255,0.02);
  border-top:1px solid var(--border);border-bottom:1px solid var(--border);
  margin-top:8px
}
.metrics-row{display:grid;grid-template-columns:repeat(4,1fr);gap:10px;padding:12px 0}
@media (max-width:900px){ .metrics-row{ grid-template-columns:repeat(2,1fr);gap:12px } }
.metric{
  display:flex;flex-direction:column;align-items:center;
  background:var(--card);border:1px solid var(--border);
  border-radius:12px;padding:12px;box-shadow:var(--shadow);
  transition:transform .18s ease, box-shadow .18s ease, border-color .18s ease;
}
.metric span{font-weight:800;font-size:1.4rem;color:var(--brand);font-variant-numeric:tabular-nums lining-nums}
.metric small{color:var(--muted)}
.metric.done{ border-color:#3f7054; box-shadow: var(--shadow-soft) }

/* Triplet grids */
.grid-3{display:grid;grid-template-columns:repeat(3,1fr);gap:8px}
@media (max-width:900px){ .grid-3{ grid-template-columns:repeat(2,1fr) } }
@media (max-width:600px){ .grid-3{ grid-template-columns:1fr } }

/* Triplet cards: squared desktop, relaxed mobile */
.cards-equal .card, .cards-equal .info-card{
  min-height:280px; aspect-ratio:1/1; justify-content:center; text-align:center;
}
@media (max-width:600px){
  .cards-equal .card, .cards-equal .info-card{
    aspect-ratio:auto; min-height:220px; text-align:left; padding:16px;
  }
}

/* Feature cards */
.feature-card{
  background:var(--card);border:1px solid var(--border);border-radius:14px;
  padding:20px;box-shadow:var(--shadow);
  display:grid;grid-template-columns:1.6fr 1fr;gap:8px;
  text-decoration:none;color:var(--text);
  transition:transform .18s ease, box-shadow .18s ease, border-color .18s ease;
}
.feature-card:hover, .feature-card:focus-within{
  transform:translateY(-2px); border-color:#3f7054; box-shadow:var(--shadow-soft);
}
.feature-text p{margin:0 0 10px;color:var(--muted)}
.feature-media{border-radius:12px;overflow:hidden;border:1px solid var(--border);background:#22382c;position:relative;min-height:340px}
.feature-media.fancy img{width:100%;height:100%;object-fit:cover;transform:scale(1.03) rotate(0);transition:transform .3s ease}
.feature-card:hover .feature-media.fancy img{ transform:scale(1.07) rotate(1.5deg) }
.feature-media.fancy::after{content:"";position:absolute;inset:0;background:linear-gradient(135deg, rgba(0,0,0,.15), rgba(0,0,0,0) 40%, rgba(0,0,0,.25) 100%);pointer-events:none}

/* Unified card style */
.card,.info-card{
  background:var(--card);border:1px solid var(--border);border-radius:14px;
  padding:16px;box-shadow:var(--shadow);display:flex;flex-direction:column;
  transition: transform .18s ease, box-shadow .18s ease, border-color .18s ease;
}
.card:hover,.card:focus-within,.info-card:hover,.info-card:focus-within{ box-shadow:var(--shadow-soft); border-color:#3f7054 }

/* Strong keyboard focus */
a:focus-visible, button:focus-visible, [role="button"]:focus-visible, .feature-card:focus-visible{
  outline:0; box-shadow:0 0 0 3px rgba(76,175,80,.45), 0 2px 10px rgba(0,0,0,.25); border-radius:12px;
}

/* Emoji wrench bullets (CSP-safe) */
.info-list.icons{ list-style:none; padding-left:0; margin-left:0; text-align:left }
.info-list.icons li{ position:relative; padding-left:28px; margin:4px 0 }
.info-list.icons li::before{ content:"ðŸ”§"; position:absolute; left:0; top:1px; font-size:15px; line-height:1 }

/* Certification logos */
.cert-logos{display:flex;flex-wrap:wrap;gap:12px;align-items:center;justify-content:center;margin-top:8px}
.cert-logos img{
  width:95%; height:auto; max-height:250px; object-fit:contain;
  background:#fff; padding:8px; border-radius:10px; box-shadow:0 2px 6px rgba(0,0,0,.15)
}
.cert-only{ display:flex; align-items:center; justify-content:center }

/* Contact bar */
.contact-bar{
  padding:28px 0;
  background:linear-gradient(180deg, rgba(255,255,255,0.03), rgba(255,255,255,0.00));
  border-top:1px solid var(--border);border-bottom:1px solid var(--border)
}
.contact-bar-inner{display:flex;gap:16px;justify-content:space-between;align-items:center;flex-wrap:wrap}
.contact-bar .contact-actions{display:flex;gap:10px;flex-wrap:wrap}

/* Footer */
.site-footer{padding:28px 0;background:#0c1913;border-top:1px solid var(--border);text-align:center}
.footer-quote{font-style:italic;color:var(--muted);margin:0 0 10px}
.footer-signoff{margin:0 0 6px;color:var(--text);opacity:.9}
.copyright{margin:0;color:var(--muted);font-size:.9rem}

/* Mobile & motion */
@media (max-width:900px){ .feature-card{grid-template-columns:1fr} .feature-media{min-height:240px} .metrics-row{gap:12px} }
@media (prefers-reduced-motion:reduce){ *{animation:none!important;transition:none!important;scroll-behavior:auto!important} }

/* Tighter global section spacing */
.section{
  /* was clamp(24px, 4vw, 40px) */
  padding: clamp(16px, 3vw, 28px) 0;
}

/* Tiny gap after metrics strip */
.metrics{
  margin-bottom: 8px; /* try 6â€“10px to taste */
}

/* Shorter triplet cards site-wide */
.cards-equal .card,
.cards-equal .info-card{
  aspect-ratio: auto;   /* stop forcing squares */
  min-height: 200px;    /* was 280px */
  text-align: left;     /* optional: keeps content tidy when shorter */
}

/* If you want them a hair taller on big screens, use: */
@media (min-width: 900px){
  .cards-equal .card,
  .cards-equal .info-card{
    min-height: 220px;
  }
}

/* ===== CAD Gallery ===== */
.gallery-grid{
  display:grid;
  grid-template-columns: repeat(auto-fit, minmax(260px, 1fr));
  gap: 10px;
}
.gallery-grid .card{
  padding: 12px;
  display:flex; flex-direction:column; gap:8px;
}
.gallery-grid .thumb{
  width:100%;
  aspect-ratio: 4 / 3;
  object-fit: cover;
  border:1px solid var(--border);
  border-radius:12px;
  background:#22382c;
  box-shadow: var(--shadow);
  transition: transform .25s ease;
}
.gallery-link:hover .thumb,
.gallery-link:focus .thumb{
  transform: scale(1.02);
}
.gallery-grid figcaption{
  color: var(--muted);
  font-size: .98rem;
}

/* Subhero (reuse hero texture but tighter) */
.subhero.hero{ padding: clamp(16px, 3vw, 28px) 0 }

/* Lightbox (native <dialog>) */
.lightbox{
  width:min(96vw, 1100px);
  border:0; padding:0;
  background:transparent;
}
.lightbox::backdrop{ background: rgba(0,0,0,.65) }
.lightbox img{
  display:block; width:100%; height:auto;
  border-radius:12px; box-shadow: var(--shadow-soft);
}
.lightbox-close{
  position:absolute; right:12px; top:12px;
  width:36px; height:36px; border:0; border-radius:50%;
  background:rgba(0,0,0,.55); color:#fff; font-size:20px; line-height:1;
  cursor:pointer;
}
.lightbox-close:focus-visible{
  outline:0; box-shadow: 0 0 0 3px rgba(76,175,80,.45);
}

/* ===== Resume page ===== */
.subhero.hero { padding: clamp(16px, 3vw, 28px) 0; }

.pdf-embed { padding: 0; overflow: hidden; }
.pdf-embed object,
.pdf-embed iframe{
  width: 100%;
  height: clamp(60vh, 80vh, 900px); /* responsive height */
  border: 0;
  display: block;
}

.note { color: var(--muted); margin-top: 10px; }

/* ===== Contact page ===== */
.contact-cards{
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(260px, 1fr));
  gap: 10px;
}
.linkish{
  text-decoration: none;
  color: var(--text);
}
.contact-icon{
  font-size: 1.6rem;
  opacity: .95;
  margin-bottom: 6px;
}

/* subtle tilt hover (matches your card hover aesthetic) */
.tilt{
  transition: transform .18s ease, box-shadow .18s ease, border-color .18s ease;
}
.tilt:hover, .tilt:focus-visible{
  transform: translateY(-2px) rotate(.4deg);
  box-shadow: var(--shadow-soft);
  border-color:#3f7054;
}

/* ===== Projects index ===== */
.project-grid{
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
  gap: 10px;
}
.project-card{
  padding: 12px;
  display: grid;
  grid-template-rows: auto 1fr;
  gap: 10px;
}
.project-card .thumb{
  width: 100%;
  aspect-ratio: 4 / 3;
  object-fit: cover;
  border: 1px solid var(--border);
  border-radius: 12px;
  background: #22382c;
  box-shadow: var(--shadow);
  transition: transform .25s ease;
}
.project-card:hover .thumb,
.project-card:focus-within .thumb{ transform: scale(1.02) }

.project-body h3{ margin: 0 0 6px }
.project-body .summary{ color: var(--muted); margin: 6px 0 0 }

.tags{
  display: flex; flex-wrap: wrap; gap: 6px;
  margin: 0 0 4px; padding: 0; list-style: none;
}
.tags li{
  font-size: .85rem; line-height: 1;
  padding: 6px 8px;
  border: 1px solid var(--border);
  border-radius: 999px;
  background: rgba(255,255,255,.03);
  color: var(--text);
}

/* (Optional) tighter section spacing for this page */
.subhero.hero{ padding: clamp(16px, 3vw, 28px) 0 }

/* ===== Projects index (6 cards) ===== */
.project-grid{
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
  gap: 10px;
}
.project-card{
  padding: 12px;
  display: grid;
  grid-template-rows: auto 1fr;
  gap: 10px;
}
.project-open{
  display: grid; gap: 10px;
  text-align: left;
  background: transparent; border: 0; padding: 0;
  color: inherit; cursor: pointer;
}
.project-open:focus-visible{
  outline: 0; box-shadow: 0 0 0 3px rgba(76,175,80,.45), 0 2px 10px rgba(0,0,0,.25);
  border-radius: 12px;
}
.project-card .thumb{
  width: 100%;
  aspect-ratio: 4 / 3;
  object-fit: cover;
  border: 1px solid var(--border);
  border-radius: 12px;
  background: #22382c;
  box-shadow: var(--shadow);
  transition: transform .25s ease;
}
.project-open:hover .thumb,
.project-open:focus-visible .thumb{ transform: scale(1.02) }

.project-body h3{ margin: 0 0 6px }
.project-body .summary{ color: var(--muted); margin: 6px 0 0 }
.linkhint{ display:inline-block; margin-top:6px; font-weight:700; color: var(--brand) }

.tags{
  display: flex; flex-wrap: wrap; gap: 6px;
  margin: 0 0 4px; padding: 0; list-style: none;
}
.tags li{
  font-size: .85rem; line-height: 1;
  padding: 6px 8px;
  border: 1px solid var(--border);
  border-radius: 999px;
  background: rgba(255,255,255,.03);
  color: var(--text);
}

/* ===== Case dialog ===== */
.case-dialog{
  width: min(96vw, 980px);
  border: 0; padding: 0;
  background: transparent;
}
.case-dialog::backdrop{ background: rgba(0,0,0,.65) }

.case-close{
  position: absolute; right: 12px; top: 12px;
  width: 36px; height: 36px; border: 0; border-radius: 50%;
  background: rgba(0,0,0,.55); color: #fff; font-size: 20px; line-height: 1;
  cursor: pointer;
}
.case-close:focus-visible{
  outline: 0; box-shadow: 0 0 0 3px rgba(76,175,80,.45);
}

.case-media{
  display: block;
  max-height: 50vh;
  overflow: hidden;
  border-radius: 12px;
  margin-bottom: 10px;
}
.case-media img{
  display: block; width: 100%; height: auto;
  border-radius: 12px; box-shadow: var(--shadow-soft);
}

.case-body{
  background: var(--card);
  border: 1px solid var(--border);
  border-radius: 12px;
  padding: 16px;
  box-shadow: var(--shadow);
  color: var(--text);
}
.case-body h2{ margin-top: 0 }
.case-body p{ margin: 8px 0 }

/* ===== Projects index: 3-up grid, PAAO previews ===== */
.project-grid{
  display:grid;
  grid-template-columns: repeat(3, 1fr); /* 3 across */
  gap:10px;
}
@media (max-width: 1000px){
  .project-grid{ grid-template-columns: repeat(2, 1fr); }
}
@media (max-width: 600px){
  .project-grid{ grid-template-columns: 1fr; }
}

.project-card{
  padding:12px;
  display:grid;
  grid-template-rows:auto 1fr;
  gap:10px;
}
.project-open{
  display:grid; gap:10px;
  text-align:left; background:transparent; border:0; padding:0;
  color:inherit; cursor:pointer;
}
.project-open:focus-visible{
  outline:0; box-shadow:0 0 0 3px rgba(76,175,80,.45), 0 2px 10px rgba(0,0,0,.25);
  border-radius:12px;
}
.project-card .thumb{
  width:100%; aspect-ratio:4/3; object-fit:cover;
  border:1px solid var(--border); border-radius:12px;
  background:#22382c; box-shadow:var(--shadow);
  transition:transform .25s ease;
}
.project-open:hover .thumb,
.project-open:focus-visible .thumb{ transform:scale(1.02) }

.project-body h3{ margin:0 0 6px }
.project-body .preview{ color:var(--muted); margin:6px 0 0; line-height:1.5 }

/* ===== Case dialog with Next/Prev + multi-image ===== */
.case-dialog{
  width:min(96vw, 980px);
  border:0; padding:0; background:transparent;
}
.case-dialog::backdrop{ background:rgba(0,0,0,.65) }

.case-close, .case-prev, .case-next{
  position:absolute; top:12px;
  width:36px; height:36px; border:0; border-radius:50%;
  background:rgba(0,0,0,.55); color:#fff; font-size:20px; line-height:1;
  cursor:pointer;
}
.case-close{ right:12px }
.case-prev{ left:12px }
.case-next{ right:56px }
.case-close:focus-visible, .case-prev:focus-visible, .case-next:focus-visible{
  outline:0; box-shadow:0 0 0 3px rgba(76,175,80,.45);
}

.case-media{
  display:block; max-height:50vh; overflow:hidden;
  border-radius:12px; margin-bottom:10px;
}
.case-media img{
  display:block; width:100%; height:auto;
  border-radius:12px; box-shadow:var(--shadow-soft);
}

.case-body{
  background:var(--card); border:1px solid var(--border);
  border-radius:12px; padding:16px; box-shadow:var(--shadow);
  color:var(--text);
}
.case-body h2{ margin-top:0 }
.case-body p{ margin:8px 0 }

/* Place this AFTER your existing chip styles (or at the end of style.css) */
.project-filters {
  --accent-ink: #fff;   /* makes .chip.is-active text white */
}
.project-filters .chip {
  color: #fff;          /* makes all chip labels white */
}
.project-filters .chip:hover,
.project-filters .chip:focus-visible {
  color: #fff;
}

.gallery-grid .card{ padding: 16px; }
.gallery-grid .thumb{ aspect-ratio: 16 / 10; }

/* PERSONAL PAGE ONLY â€” bigger 2-column gallery */
.page-personal .gallery-grid{
  display: grid;
  gap: 28px;
  grid-template-columns: repeat(2, minmax(520px, 1fr)); /* nice big cards */
  align-items: stretch;
}

@media (max-width: 1200px){
  .page-personal .gallery-grid{
    grid-template-columns: repeat(2, minmax(420px, 1fr));
  }
}
@media (max-width: 900px){
  
/* PERSONAL PAGE â€” bigger, roomier 2-column cards */
.page-personal main .container{
  max-width: 1280px;        /* widen just the personal page content area */
}

.page-personal main .container{
  max-width: 1280px; /* keep your wider container */
}

.page-personal .gallery-grid{
  display: grid;
  grid-template-columns: repeat(2, minmax(640px, 1fr));
  gap: 32px 24px;          /* 32px row-gap, 3px column-gap */
  align-items: stretch;
}

@media (max-width: 1280px){
  .page-personal .gallery-grid{
    grid-template-columns: repeat(2, minmax(560px, 1fr));
  }
}
@media (max-width: 980px){
  .page-personal .gallery-grid{ grid-template-columns: 1fr; } /* phones */
}

/* Card + image sizing (keep this version) */
.page-personal .gallery-grid .card{ padding: 24px; }
.page-personal .gallery-grid .thumb{
  display:block;
  width:100%;
  aspect-ratio: 3 / 2;     /* nicer presence; change to 16/10 if you prefer */
  object-fit: cover;
  border-radius: var(--radius-lg, 12px);
}
  
@media (max-width: 1280px){
  .page-personal .gallery-grid{
    grid-template-columns: repeat(2, minmax(560px, 1fr));
  }
}
@media (max-width: 980px){
  .page-personal .gallery-grid{ grid-template-columns: 1fr; } /* phones */
}
